[
  {
    "id": "cpp-default",
    "creator": "ide",
    "name": "C++",
    "description": "Default C++ Stack with C++, gcc 4.8.4, GNU Make 3.81.",
    "scope": "general",
    "tags": [
      "C++",
      "gcc",
      "make",
      "Ubuntu",
      "Git"
    ],
    "components": [
      {
        "name": "CPP",
        "version": "4.8.4"
      },
      {
        "name": "gcc",
        "version": "4.8.4"
      },
      {
        "name": "Make",
        "version": "3.81"
      }
    ],
    "workspaceConfig": {
      "environments": {
        "default": {
          "machines": {
            "dev-machine": {
              "installers": [
                "org.eclipse.che.exec", "org.eclipse.che.terminal", "org.eclipse.che.ws-agent"
              ],
              "servers": {},
              "attributes" : {
                "memoryLimitBytes": "2147483648"
              }
            }
          },
          "recipe": {
            "content": "eclipse/cpp_gcc",
            "type": "dockerimage"
          }
        }
      },
      "name": "default",
      "defaultEnv": "default",
      "description": null,
      "commands": [
        {
          "name": "run",
          "type": "custom",
          "commandLine": "cd ${current.project.path} && make && ./a.out",
          "attributes": {
            "previewUrl": "",
            "goal": "Run"
          }
        }
      ]
    },
    "stackIcon": {
      "name": "type-cpp.svg",
      "mediaType": "image/svg+xml"
    }
  },
  {
    "id": "rzg-default",
    "creator": "ide",
    "name": "RZG",
    "description": "Default RZG Stack with ARM Linaro cross compiler (gcc) and debugger (gdb).",
    "scope": "general",
    "tags": [
      "C++",
      "gcc",
      "make",
      "Ubuntu",
      "Git",
      "RZG"
    ],
    "components": [
      {
        "name": "CPP",
        "version": "5.2.1"
      },
      {
        "name": "gcc",
        "version": "5.2.1"
      },
      {
        "name": "gdb",
        "version": "7.9.1"
      },
      {
        "name": "Make",
        "version": "4.1"
      }
    ],
    "workspaceConfig": {
      "environments": {
        "default": {
          "machines": {
            "dev-machine": {
              "installers": [
                "org.eclipse.che.exec", "org.eclipse.che.terminal", "org.eclipse.che.ws-agent"
              ],
              "servers": {},
              "attributes" : {
                "memoryLimitBytes": "2147483648"
              }
            }
          },
          "recipe": {
            "content": "jonahkichwacoders/che-rzg-debug",
            "type": "dockerimage"
          }
        }
      },
      "name": "default",
      "defaultEnv": "default",
      "description": null,
      "commands": [
        {
          "name": "Build Project (make)",
          "type": "custom",
          "commandLine": "make -C ${current.project.path}",
          "attributes": {
            "previewUrl": "",
            "goal": "Build"
          }
        },
        {
          "name": "Run on QEMU simulator",
          "type": "custom",
          "commandLine": "qemu-arm ${current.project.path}/a.out",
          "attributes": {
            "previewUrl": "",
            "goal": "Run"
          }
        },
        {
          "name": "Run on RZG Board",
          "type": "custom",
          "commandLine": "IPADDR_FILE=${current.project.path}/ipaddress\nif ! test -f $IPADDR_FILE ; then echo \"Create file with Board's ipaddress in $IPADDR_FILE\"; exit 1; fi\nIPADDR=$(cat $IPADDR_FILE)\necho scp ${current.project.path}/a.out root@$IPADDR:/home/root/a.out\nscp ${current.project.path}/a.out root@$IPADDR:/home/root/a.out\necho ssh root@$IPADDR /home/root/a.out\nssh root@$IPADDR /home/root/a.out",
          "attributes": {
            "previewUrl": "",
            "goal": "Run"
          }
        },
        {
          "name": "Debug on QEMU simulator",
          "type": "custom",
          "commandLine": "echo 'Starting gdbserver on QEMU simulator. To connect, choose Run menu -> Debug'\necho qemu-arm -g 1234 ${current.project.path}/a.out\nqemu-arm -g 1234 ${current.project.path}/a.out",
          "attributes": {
            "previewUrl": "",
            "goal": "Debug"
          }
        },
        {
          "name": "Debug on RZG Board",
          "type": "custom",
          "commandLine": "IPADDR_FILE=${current.project.path}/ipaddress\nif ! test -f $IPADDR_FILE ; then echo \"Create file with Board's ipaddress in $IPADDR_FILE\"; exit 1; fi\nIPADDR=$(cat $IPADDR_FILE)\necho scp ${current.project.path}/a.out root@$IPADDR:/home/root/a.out\nscp ${current.project.path}/a.out root@$IPADDR:/home/root/a.out\necho 'Starting gdbserver on RZG Board. To connect, choose Run menu -> Debug'\necho ssh root@$IPADDR gdbserver --once :1234 /home/root/a.out\nssh root@$IPADDR gdbserver --once :1234 /home/root/a.out",
          "attributes": {
            "previewUrl": "",
            "goal": "Debug"
          }
        },
        {
          "name": "SSH to RZG Board",
          "type": "custom",
          "commandLine": "IPADDR_FILE=${current.project.path}/ipaddress\nif ! test -f $IPADDR_FILE ; then echo \"Create file with Board's ipaddress in $IPADDR_FILE\"; exit 1; fi\nIPADDR=$(cat $IPADDR_FILE)\necho 'Che does not support stdin in this window, please open a terminal (from Run menu) and execute: '\necho ssh root@$IPADDR",
          "attributes": {
            "previewUrl": "",
            "goal": "Common"
          }
        },
        {
          "name": "Killall gdbservers on RZG Board",
          "type": "custom",
          "commandLine": "IPADDR_FILE=${current.project.path}/ipaddress\nif ! test -f $IPADDR_FILE ; then echo \"Create file with Board's ipaddress in $IPADDR_FILE\"; exit 1; fi\nIPADDR=$(cat $IPADDR_FILE)\necho 'Terminating running gdbservers on RZG board'\necho ssh root@$IPADDR pkill -9 gdbserver\nssh root@$IPADDR pkill -9 gdbserver",
          "attributes": {
            "previewUrl": "",
            "goal": "Common"
          }
        }
      ]
    },
    "stackIcon": {
      "name": "type-cpp.svg",
      "mediaType": "image/svg+xml"
    }
  },
  {
    "id": "debug-adapters-default",
    "creator": "ide",
    "name": "Debug Server Protocol",
    "description": "Stack containing Debug Server Protocol adapters and tools for go, C/C++, python",
    "scope": "general",
    "tags": [
      "go",
      "gcc",
      "python",
      "C++",
      "Git"
    ],
    "components": [],
    "workspaceConfig": {
      "environments": {
        "default": {
          "machines": {
            "dev-machine": {
              "installers": [
                "org.eclipse.che.exec", "org.eclipse.che.terminal", "org.eclipse.che.ws-agent"
              ],
              "servers": {},
              "attributes" : {
                "memoryLimitBytes": "2147483648"
              }
            }
          },
          "recipe": {
            "content": "jonahkichwacoders/che-debug-adapters",
            "type": "dockerimage"
          }
        }
      },
      "name": "default",
      "defaultEnv": "default",
      "description": null,
      "commands": [
      ]
    },
    "stackIcon": {
      "name": "type-blank.svg",
      "mediaType": "image/svg+xml"
    }
  }
]
